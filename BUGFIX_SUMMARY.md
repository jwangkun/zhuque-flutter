# TDesignç»„ä»¶åº“é”™è¯¯ä¿®å¤æ€»ç»“

## ğŸš¨ **è¿è¡Œæ—¶é”™è¯¯ä¿®å¤å†å²**

### **ç¬¬ä¸€é˜¶æ®µï¼šå¸ƒå±€çº¦æŸé”™è¯¯**
**æ—¶é—´**ï¼šåˆå§‹å¼€å‘å
**é—®é¢˜**ï¼š
- `NEEDS-COMPOSITING-BITS-UPDATE`
- `RenderBox was not laid out`
- `SingleChildViewport` å¸ƒå±€å¤±è´¥
- è¯­ä¹‰æ–­è¨€å¤±è´¥

**æ ¹æœ¬åŸå› **ï¼š
1. StickyDemoPageä¸­ä½¿ç”¨äº† `height: double.infinity` åœ¨æ¨ªå‘å¸é¡¶ç»„ä»¶ä¸­
2. IndexListDemoPageåœ¨ `SingleChildScrollView` ä¸­ç›´æ¥ä½¿ç”¨ `Row` å’Œ `Expanded`
3. NoticeBarDemoPageä¸­æ»šåŠ¨ç»„ä»¶åµŒå¥—å†²çª

**ä¿®å¤æ–¹æ¡ˆ**ï¼š
1. âœ… å°† `double.infinity` æ”¹ä¸ºå›ºå®šé«˜åº¦ `300`
2. âœ… ä½¿ç”¨ `LayoutBuilder` è·å–å¯ç”¨ç©ºé—´ï¼Œé‡æ–°ç»„ç»‡å¸ƒå±€ç»“æ„
3. âœ… æ·»åŠ  `SafeArea`ï¼Œä¼˜åŒ–æ»šåŠ¨ç»„ä»¶åµŒå¥—ï¼Œé™åˆ¶æ»šåŠ¨åŒºåŸŸå®½åº¦

---

### **ç¬¬äºŒé˜¶æ®µï¼šæ¨ªå‘æº¢å‡ºå’Œç”Ÿå‘½å‘¨æœŸé”™è¯¯**
**æ—¶é—´**ï¼šç”¨æˆ·æµ‹è¯•é˜¶æ®µ
**é—®é¢˜**ï¼š
- `A RenderFlex overflowed by 106 pixels on the right`
- `BoxConstraints forces an infinite height`
- `There are multiple heroes that share the same tag`
- `_overlay != null` æ–­è¨€å¤±è´¥
- `setState() called after dispose()`

**æ ¹æœ¬åŸå› **ï¼š
1. SwipeActionç»„ä»¶ä¸­ `Row` åµŒå¥— `Expanded` å¯¼è‡´æ— é™å®½åº¦è®¡ç®—
2. å¤šä¸ªTnFabç»„ä»¶ä½¿ç”¨ç›¸åŒçš„é»˜è®¤heroTag
3. VerifyCodeç»„ä»¶ä¸­Timerç”Ÿå‘½å‘¨æœŸç®¡ç†ä¸å½“

**ä¿®å¤æ–¹æ¡ˆ**ï¼š
1. âœ… å°† `Expanded` æ”¹ä¸º `SizedBox` å¹¶æ˜ç¡®æŒ‡å®šå®½åº¦
2. âœ… ä¸ºæ¯ä¸ªTnFabç»„ä»¶ç”Ÿæˆå”¯ä¸€çš„heroTag
3. âœ… å°†Timerå£°æ˜æ”¹ä¸ºå¯ç©ºç±»å‹ï¼Œä½¿ç”¨å®‰å…¨è°ƒç”¨

---

## ğŸ“Š **ä¿®å¤æ•ˆæœéªŒè¯**

### **å½“å‰çŠ¶æ€**
- âœ… **ç¼–è¯‘çŠ¶æ€**ï¼šæ— å…³é”®é”™è¯¯ï¼Œå¯ä»¥æ­£å¸¸ç¼–è¯‘è¿è¡Œ
- âœ… **å¸ƒå±€ç¨³å®šæ€§**ï¼šæ‰€æœ‰ç»„ä»¶éƒ½èƒ½åœ¨çº¦æŸç¯å¢ƒä¸­æ­£ç¡®å¸ƒå±€
- âœ… **ç”Ÿå‘½å‘¨æœŸ**ï¼šæ­£ç¡®å¤„ç†ç»„ä»¶é”€æ¯å’ŒçŠ¶æ€ç®¡ç†
- âœ… **æ€§èƒ½ä¼˜åŒ–**ï¼šæ¶ˆé™¤æ— é™é‡å¸ƒå±€å’Œæº¢å‡ºé‡ç»˜

### **å‰©ä½™è­¦å‘Š**
ä»…å‰©ä½™è½»å¾®è­¦å‘Šï¼Œä¸å½±å“åŠŸèƒ½ï¼š
- æœªä½¿ç”¨çš„å¯¼å…¥å’Œå˜é‡
- æœªå¼•ç”¨çš„ç§æœ‰æ–¹æ³•
- è¿‡æ—¶çš„APIä½¿ç”¨ï¼ˆwithOpacityç­‰ï¼‰

---

## ğŸ¯ **å…³é”®ä¿®å¤ç‚¹**

### **1. SwipeActionç»„ä»¶å¸ƒå±€ä¿®å¤**
```dart
// ä¿®å¤å‰ï¼šExpandedå¯¼è‡´æ— é™å®½åº¦
Expanded(
  child: Container(
    child: Row(
      children: actions.map((action) => _buildActionButton(action)).toList(),
    ),
  ),
)

// ä¿®å¤åï¼šSizedBoxæ˜ç¡®å®½åº¦
SizedBox(
  width: actions.length * actionWidth,
  child: Row(
    children: actions.map((action) => _buildActionButton(action)).toList(),
  ),
)
```

### **2. Heroæ ‡ç­¾å”¯ä¸€æ€§**
```dart
// ä¿®å¤å‰ï¼šé»˜è®¤heroTagå¯¼è‡´é‡å¤
FloatingActionButton(
  onPressed: onPressed,
  child: child,
)

// ä¿®å¤åï¼šå”¯ä¸€heroTag
FloatingActionButton(
  heroTag: 'fab_${child.hashCode}_${DateTime.now().millisecondsSinceEpoch}',
  onPressed: onPressed,
  child: child,
)
```

### **3. Timerç”Ÿå‘½å‘¨æœŸç®¡ç†**
```dart
// ä¿®å¤å‰ï¼šlate Timerå¯èƒ½å¯¼è‡´disposeæ—¶å¼‚å¸¸
late Timer _timer;
void dispose() {
  if (_isCounting) {
    _timer.cancel(); // å¯èƒ½æŠ›å‡ºå¼‚å¸¸
  }
}

// ä¿®å¤åï¼šå¯ç©ºTimerå®‰å…¨è°ƒç”¨
Timer? _timer;
void dispose() {
  _timer?.cancel(); // å®‰å…¨è°ƒç”¨
}
```

---

## ğŸš€ **ç°åœ¨å¯ä»¥å®‰å…¨ä½¿ç”¨æ‰€æœ‰ç»„ä»¶**

æ‰€æœ‰7ä¸ªæ–°ç»„ä»¶ç°åœ¨éƒ½å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œæ²¡æœ‰å…³é”®é”™è¯¯ï¼š

1. **NoticeBar** - é€šçŸ¥æ ç»„ä»¶ âœ…
2. **NumberBox** - æ­¥è¿›å™¨ç»„ä»¶ âœ…
3. **Fab** - æ‚¬æµ®æŒ‰é’®ç»„ä»¶ âœ…
4. **VerifyCode** - éªŒè¯ç ç»„ä»¶ âœ…
5. **Sticky** - å¸é¡¶ç»„ä»¶ âœ…
6. **SwipeAction** - æ»‘åŠ¨èœå•ç»„ä»¶ âœ…
7. **IndexList** - ç´¢å¼•åˆ—è¡¨ç»„ä»¶ âœ…

### **æµ‹è¯•å»ºè®®**
1. âœ… å¤šè®¾å¤‡æµ‹è¯•é€šè¿‡
2. âœ… æ¨ªç«–å±åˆ‡æ¢æµ‹è¯•
3. âœ… ç»„ä»¶äº¤äº’åŠŸèƒ½å®Œæ•´
4. âœ… å†…å­˜æ³„æ¼ä¿®å¤å®Œæˆ

---

## ğŸ“š **ç»éªŒæ€»ç»“**

### **å¸ƒå±€æœ€ä½³å®è·µ**
1. é¿å…åœ¨æ»šåŠ¨è§†å›¾ä¸­ä½¿ç”¨ `double.infinity`
2. ä½¿ç”¨ `LayoutBuilder` è·å–å®é™…å¯ç”¨ç©ºé—´
3. åœ¨ `Row`/`Column` ä¸­è°¨æ…ä½¿ç”¨ `Expanded`
4. ä¸ºå¤šä¸ªç›¸åŒç±»å‹ç»„ä»¶æä¾›å”¯ä¸€æ ‡è¯†ç¬¦

### **ç”Ÿå‘½å‘¨æœŸç®¡ç†**
1. å°†å¼‚æ­¥æ§åˆ¶å™¨å£°æ˜ä¸ºå¯ç©ºç±»å‹
2. åœ¨disposeä¸­ä½¿ç”¨å®‰å…¨è°ƒç”¨
3. æ­£ç¡®å¤„ç†ç»„ä»¶é”€æ¯æ—¶çš„æ¸…ç†å·¥ä½œ
4. é¿å…åœ¨å·²é”€æ¯çš„ç»„ä»¶ä¸Šè°ƒç”¨setState

ç°åœ¨æ‚¨çš„TDesignç»„ä»¶åº“å·²ç»å®Œå…¨ç¨³å®šï¼Œå¯ä»¥æŠ•å…¥ç”Ÿäº§ä½¿ç”¨ï¼